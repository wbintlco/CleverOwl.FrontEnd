
@{
    ViewBag.Title = "Index";
}
@Styles.Render("~/assets/vendors/select2/dist/css/select2.min.css")
@Styles.Render("~/assets/vendors/jstree/dist/themes/default/style.min.css")
<style>
    .select2-results {
        padding: 15% !important;
    }

    svg {
        height: 50px;
    }

    .page-banner {
        margin-top: 100px;
        height: fit-content;
        margin-bottom: 30px;
        background-color: #ffffff;
    }

    .page-body {
        padding: 0;
        margin-bottom: 50px;
    }

    .grid-card {
        box-shadow: rgb(99 99 99 / 20%) 0px 2px 8px 0px;
        border-radius: 25px;
        padding: 40px;
        background: linear-gradient( to left, rgb(115 110 197 / 80%) 0%, rgb(68 60 182) 100% ) left bottom #ffffff no-repeat;
        background-size: 100% 18px;
    }

    .grid-card-head-title {
        margin-top: 20px;
    }

    .grid-card-head-datetime {
        margin-top: 20px;
    }

    .grid-card-body {
        margin-top: 25px;
        font-weight: 100;
    }

    .grid-card-footer {
        margin-top: 50px;
        margin-bottom: -10px;
    }

    .table-row {
        display: table-row;
        height: auto;
    }

    .table-cell1 {
        border: none;
        display: table-cell;
        padding: 2px;
        width: 80%
    }

    .table-cell2 {
        border: none;
        display: table-cell;
        padding: 2px;
    }

    video {
        max-width: 398px;
        max-height: 130px;
    }



    .select2-selection__clear {
        padding-top: 8px !important;
    }

    .refreshbtn, .plusbtn {
        background: none;
        border: none;
    }

    .refreshbtn > i {
        color:#2b2350;
    }

    .m-portlet {
        background: #fdfafa;
        padding: 5px;
    }

    @@media(min-width: 992px) and (max-width:1024px) {
        .RenderBody {
            max-width: 100%;
            padding-right: 15%;
            padding-left: 15%;
        }
    }

    @@media (max-width:522px) {
        #select2-recordsDropdown-container {
            position: absolute;
            right: 18%;
        }
    }
</style>


<section class="page-banner">
    <div class="container">
        <div class="page-title-wrapper">
            <div>
                <ul class="bradcurmed">
                    <li><a href="@Url.Action("Index","Dashboard")" rel="noopener noreferrer">Dashboard</a></li>
                    <li><a href="@Url.Action("Index","TestLessonsPlans")" rel="noopener noreferrer">Lessons Plans</a></li>
                </ul>
            </div>
            <div class="row m--margin-top-20-desktop">
                <div class="col-lg-1 m-auto m--hidden-tablet m--hidden-mobile">
                    @Html.Partial("~/Views/SharedSvgs/_AssignmentsIcon.cshtml")
                </div>
                <div class="col-lg-5 col-12 m-auto">
                    <h1 class="page-title"> Lessons Plans</h1>
                </div>
                <div class="col-lg-3  m-auto">
                </div>
                <div class="col-lg-3 col-12 m-auto">


                </div>
            </div>

        </div>

        <div class="row mt-4">
            <div class="col-xl-3 col-lg-6 col-md-6 col-12 m--margin-top-5-mobile">
                <label for="SchoolDropDown" class="m-2">School</label>
                @Html.DropDownList("SchoolsDropDown", (SelectList)ViewBag.Schools, "Schools", htmlAttributes: new { @class = "form-control", @id = "SchoolDropDown", @style = "width:100%;" })
            </div>
            <div class="col-xl-3 col-lg-6 col-md-6 col-12 m--margin-top-5-mobile">
                <label for="GradeDropDown" class="m-2">Grade</label>
                @Html.DropDownList("GradesDropDown", (SelectList)ViewBag.Grades, "Grades", htmlAttributes: new { @class = "form-control", @id = "GradeDropDown", @style = "width:100%;" })
            </div>
            <div class="col-xl-3 col-lg-6 col-md-6 col-12 m--margin-top-5-mobile">
                <label for="SubjectDropDown" class="m-2">Subject</label>
                @Html.DropDownList("SubjectsDropDown", (SelectList)ViewBag.Subjects, "Subjects", htmlAttributes: new { @class = "form-control", @id = "SubjectDropDown", @style = "width:100%;" })
            </div>
            <div class="col-xl-3 col-lg-6 col-md-6 col-12 m--margin-top-5-mobile">
                <label for="ChapterDropDown" class="m-2">Chapter</label>
                @Html.DropDownList("ChaptersDropDown", (SelectList)ViewBag.Chapters, "Chapters", htmlAttributes: new { @class = "form-control", @id = "ChapterDropDown", @style = "width:100%;" })
            </div>
            <div class="col-xl-3 col-lg-6 col-md-6 col-12 m--margin-top-5-mobile">
                <label for="TopicDropDown" class="m-2">Topic</label>

                <select class="form-control" id="TopicDropDown">
                </select>
            </div>
        </div>

        <div class="row mt-4">
            <div class="m-portlet col-lg-12">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                Lessons
                            </h3>
                        </div>
                    </div>
                </div>
                <div class="m-portlet__body">
                    <div id="m_tree_4" class="tree-demo">
                        <ul>
                            <li>
                                Chapter 1
                                <ul>
                                    <li>
                                        Topic 1
                                        <ul>
                                            <li>Assignment 1<button class="refreshbtn"><i class="fas fa-sync"></i></button><button class="plusbtn"><i class="fas fa-plus"></i></button></li>
                                            <li>Virtual class<button class="refreshbtn"><i class="fas fa-sync"></i></button><button class="plusbtn"><i class="fas fa-plus"></i></button></li>
                                            <li>Quiz<button class="refreshbtn"><i class="fas fa-sync"></i></button><button class="plusbtn"><i class="fas fa-plus"></i></button></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
  
</section>
@section Scripts{
    @Scripts.Render("~/assets/vendors/select2/dist/js/select2.full.min.js")
    @Scripts.Render("~/assets/vendors/jstree/dist/jstree.min.js")
    @Scripts.Render("~/assets/vendors/fontawesome/css/all.min.js")


<script>



        $("#m_tree_4").jstree();


    var SchoolsDropDown;
        function initiateSchoolsDropDown() {
            SchoolsDropDown = $('#SchoolDropDown').select2({
                ajax: {
                    url: '@Url.Action("GetSchools","SynchronousSessions")',
                    dataType: 'json',
                    type: 'POST',
                    delay: 250,
                    cache: true,
                    data: function (params) {
                        var query = {
                            query: params.term,
                            __RequestVerificationToken : $('@Html.AntiForgeryToken()').val()
                        }

                        return query;
                    },
                    processResults: function (data, params) {
                        return {
                            results: data
                        };
                    }
                },
                placeholder: 'Select School',
                allowClear: true,
                language: {
                    searching: function () {
                        return "Searching....";
                    },
                    noResults: function () {
                        return "No results";
                    }
                },
                escapeMarkup: function (markup) { return markup; },
                minimumInputLength: 0,
                templateSelection: function (data) {

                    return data.text;
                }
            });
        }
    initiateSchoolsDropDown();


    var GradesDropDown;
        function initiateGradesDropDown() {
            GradesDropDown = $('#GradeDropDown').select2({
                ajax: {
                    url: '@Url.Action("GetGrades","SynchronousSessions")',
                    dataType: 'json',
                    type: 'POST',
                    delay: 250,
                    cache: true,
                    data: function (params) {
                        var query = {
                            query: params.term,
                            schoolKey: SchoolsDropDown.val(),
                            __RequestVerificationToken : $('@Html.AntiForgeryToken()').val()
                        }

                        return query;
                    },
                    processResults: function (data, params) {
                        return {
                            results: data
                        };
                    }
                },
                placeholder: 'Select grade',
                allowClear: true,
                language: {
                    searching: function () {
                        return "Searching....";
                    },
                    noResults: function () {
                        return "No results";
                    }
                },
                escapeMarkup: function (markup) { return markup; },
                minimumInputLength: 0,
                templateSelection: function (data) {

                    return data.text;
                }
            });
        }
    initiateGradesDropDown()

    var SubjectsDropDown;
        function initiateSubjectsDropDown() {
            SubjectsDropDown = $('#SubjectDropDown').select2({
                ajax: {
                    url: '@Url.Action("GetSubjects","SynchronousSessions")',
                    dataType: 'json',
                    type: 'POST',
                    delay: 250,
                    cache: true,
                    data: function (params) {
                        var query = {
                            query: params.term,
                            schoolKey: SchoolsDropDown.val(),
                            gradeKey: GradesDropDown.val(),
                            __RequestVerificationToken: $('@Html.AntiForgeryToken()').val()
                        }

                        return query;
                    },
                    processResults: function (data, params) {
                        return {
                            results: data
                        };
                    }
                },
                placeholder: "Select Subject",
                allowClear: true,
                language: {
                    searching: function () {
                        return "Searching";
                    },
                    noResults: function () {
                        return "No results";
                    }
                },
                escapeMarkup: function (markup) { return markup; },
                minimumInputLength: 0,
                templateSelection: function (data) {

                    return data.text;
                }
            });
        }
    initiateSubjectsDropDown();

        var ChaptersDropDown;
        function initiateChaptersDropDown() {
            ChaptersDropDown = $('#ChapterDropDown').select2({
                ajax: {
                    url: '@Url.Action("GetChapters")',
                    dataType: 'json',
                    type: 'POST',
                    delay: 250,
                    cache: true,
                    data: function (params) {
                        var query = {
                            query: params.term,
                            subjectKey: SubjectsDropDown.val(),
                            __RequestVerificationToken: $('@Html.AntiForgeryToken()').val()
                        }

                        return query;
                    },
                    processResults: function (data, params) {
                        return {
                            results: data
                        };
                    }
                },
                placeholder: "Select Chapter",
                allowClear: true,
                language: {
                    searching: function () {
                        return "Searching";
                    },
                    noResults: function () {
                        return "No results";
                    }
                },
                escapeMarkup: function (markup) { return markup; },
                minimumInputLength: 0,
                templateSelection: function (data) {

                    return data.text;
                }
            });
        }
    initiateChaptersDropDown();

    var TopicsDropDown;
        function initiateTopicsDropDown() {

            TopicsDropDown = $('#TopicDropDown').select2({
                ajax: {
                    url: '@Url.Action("GetTopics")',
                    dataType: 'json',
                    type: 'POST',
                    delay: 250,
                    cache: true,
                    data: function (params) {
                        var query = {
                            query: params.term,
                            chapterKey: ChaptersDropDown.val(),
                            __RequestVerificationToken: $('@Html.AntiForgeryToken()').val()
                        }

                        return query;
                    },
                    processResults: function (data, params) {
                        return {
                            results: data
                        };
                    }
                },
                placeholder: "Select Topic",
                allowClear: true,
                language: {
                    searching: function () {
                        return "Searching";
                    },
                    noResults: function () {
                        return "No results";
                    }
                },
                escapeMarkup: function (markup) { return markup; },
                minimumInputLength: 0,
                templateSelection: function (data) {

                    return data.text;
                }
            });

        }
    initiateTopicsDropDown();






</script>


}